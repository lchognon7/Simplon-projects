<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monstre VS joueur</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=RocknRoll+One&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="jeu.css">
    </head>
<body>
    <div class='titre'>
    <h1>Maxi combat de l'enfer !</h1>
    <h2>Qui va gagner ???</h2>
    <h3>Le monstre commence ...</h3>
    </div>
    <div class="monstre">
        <img src="monster.png" width=100px alt="monstre qui fait m√™me pas peur">
        <h1>Monstre</h1>
        <button id="button_monstre">Attaquer üó°</button>
    </div>
    <div class="joueur">
        <img src="viking.png" width=100px alt="guerrier avec une h√¢che">
        <h1>Joueur</h1>
        <button id="button_joueur" disabled="true">Attaquer üõ°</button>
    </div>

    <script>

        // on d√©finit les points du joueur et du monstre √† 20

        let joueur = 20;
        let monstre = 20;

        // fonction qui permet d'obtenir un chiffre al√©atoire en 1 et 6

        function random(){
            attaque_value = Math.floor(Math.random() * 6) + 1;
            return attaque_value;
        }



        // fonction d'attaque qui sera d√©clench√©e par le clic sur l'attaque du monstre 
        // on passe la fonction cr√©√©e random
        // on enl√®ve la valeur de cette fonction √† la variable de score du joueur 
        // on alerte le r√©sultat dans une pop up
        // on met un attribut disabled sur le bouton pour qu'on ne puisse pas jouer deux fois de suite 
        // on enl√®ve l'attribut disabled au joueur pour qu'il puisse jouer
        // on change l'emoji dans le bouton (joueur peut maintenant attaquer = emoji hache, le monstre ne peut plus = emoji bouclier)

        function attaque_du_monstre(){
            random();
            joueur = joueur - attaque_value;
            alert('D√©gats de l\'attaque du monstre =' + attaque_value + '\nJoueur =' + joueur + '\nMonstre =' + monstre);
            button_monstre.setAttribute("disabled", "false");
            button_monstre.innerHTML = 'Attaquer üõ°';
            button_joueur.innerHTML = 'Attaquer ü™ì';
            button_joueur.removeAttribute("disabled");
            return joueur;
        }

        // fonction d'attaque qui sera d√©clench√©e par le clic sur l'attaque du joueur 
        // on passe la fonction cr√©√©e random
        // on enl√®ve la valeur de cette fonction √† la variable de score du monstre 
        // on alerte le r√©sultat dans une pop up
        // on met un attribut disabled sur le bouton pour qu'on ne puisse pas jouer deux fois de suite 
        // on enl√®ve l'attribut disabled au monstre pour qu'il puisse jouer
        // on change l'emoji dans le bouton (monstre peut maintenant attaquer = emoji √©p√©e, le joueur ne peut plus = emoji bouclier)

        function attaque_du_joueur(){
            random();
            monstre = monstre - attaque_value;
            alert('D√©gats de l\'attaque du joueur =' + attaque_value + '\nJoueur =' + joueur + '\nMonstre =' + monstre);
            button_joueur.setAttribute("disabled", "false");
            button_joueur.innerHTML = 'Attaquer üõ°';
            button_monstre.innerHTML = 'Attaquer üó°';
            button_monstre.removeAttribute("disabled");
            return monstre;
        }

        // fonction qui permet de tester √† chaque clic sur un des deux boutons si un des joueurs a perdu 
        // si un des joueurs √† 0 ou moins, on alert le nom du gagnant 

        function test(){
        if(monstre < 1){
            alert('Le joueur a gagn√© !');
        }
        else if(joueur < 1){
            alert('Le monstre a gagn√© !');
        }
        }   

        // je stocke les √©l√©ments button joueur et monstre dans des variables

        let button_monstre = document.getElementById('button_monstre');
        let button_joueur = document.getElementById('button_joueur');

        // on d√©clenche au clic sur le bouton la fonction attaque du monstre ou du joueur selon le bouton

        button_monstre.addEventListener('click', attaque_du_monstre);
        button_joueur.addEventListener('click', attaque_du_joueur);

        // on d√©clenche au clic sur le bouton la fonction test 

        button_monstre.addEventListener('click', test);
        button_joueur.addEventListener('click', test);

    </script>
</body>
</html>